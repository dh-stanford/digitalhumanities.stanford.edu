<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>ORBIS v2 :: Digital Humanities @ Stanford</title>

  

  <link rel="shortcut icon" type="image/x-icon" href="/">

  <!-- Font Awesome Icons -->
  <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
    integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" rel="stylesheet">

  <!-- Google Fonts-->
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700" rel="stylesheet">

  <!-- Bootstrap Modified -->
  <link rel="stylesheet" href="/assets/css/main.css" ">

  <!-- Theme Stylesheet -->
  <link rel=" stylesheet" href="/assets/css/theme.css" ">

  <style>
    /* add margin if scroll bar not visible
      Note: leaving space for a scroll bar can result in obviously uneven margins
      on smaller screens when there is no scroll bar.  This is potentially an issue
      on environments without overlay scrollbars and very narrow viewports, but 
      such environments are very uncommon and in my contrived examples behaviour
      is entirely acceptable imo. */
    body {
      margin-left: calc(100vw - 100%);
      margin-right: 0;
      overflow-x: hidden;
    }
    .navbar { left: calc(100vw - 100%); }
  </style>


  <meta property="og:title" content="ORBIS v2" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/orbis-v2/" />
<meta property="og:site_name" content="Digital Humanities at Stanford" />
<meta property="og:description" content="" />
<meta property="og:image" content="" />
<meta property="og:image:alt" content="Post image" />
<meta name="description" content="" />


</head>

<body class=" ">

  <!-- Navbar -->
  <nav class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top" id="MagicMenu">
    <div class="container">
      <a class="navbar-brand" href="/">
        <strong>Digital Humanities @ Stanford</strong>
      </a>
      <button aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation"
        class="navbar-toggler collapsed" data-target="#navbarColor02" data-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-collapse collapse" id="navbarColor02" style="">
        <ul class="navbar-nav mr-auto d-flex align-items-center">
          <li class="nav-item">
  <a class="nav-link" href="/">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/about-dh-stanford">About</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/projects">Projects</a>
</li>
<li class="nav-item">
  <a target="_blank" class="nav-link" href="http://library.stanford.edu/research/cidr/workshops">Workshops</a>
</li>
<li class="nav-item">
  <a target="_blank" class="nav-link" href="https://dhminor.stanford.edu/">DH Minor</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/slavic">Slavic</a>
</li>

        </ul>
        <ul class="navbar-nav ml-auto d-flex align-items-center">
          <script src="/assets/js/lunr.min.js"></script>

<form class="bd-search hidden-sm-down" onSubmit="return lunrSearch(document.getElementById('lunrsearch').value);">
  <input type="text" class="form-control text-small" id="lunrsearch" name="q" value=""
    placeholder="Type keyword and enter..." />
</form>

<div id="lunrsearchresults"></div>

<script>
  const lunrSearchResults = document.getElementById("lunrsearchresults");
  let idx;
  let docs;

  fetch("/lunr-index.json")
    .then((response) => response.json())
    .then((data) => {
      idx = lunr.Index.load(data.index);
      documents = data.documents;
    });

  const closeSearch = () => {
    lunrSearchResults.style.display = "none";
    document.body.classList.remove("modal-open");
  };

  document.body.addEventListener("click", (event) => {
    if (event.target.id !== "lunrsearchresults" && document.body.classList.contains("modal-open")) closeSearch();
  });

  document.body.addEventListener("keydown", (event) => {
    if (event.key == "Escape" && document.body.classList.contains("modal-open")) closeSearch();
  });

  const lunrSearch = (term) => {
    lunrSearchResults.style.display = "block";
    document.body.classList.add("modal-open");

    lunrSearchResults.innerHTML = `
    <div id="resultsmodal" class="modal fade show d-block" tabindex="-1" role="dialog" aria-labelledby="resultsmodal">
      <div class="modal-dialog shadow-lg" role="document">
        <div class="modal-content">
          <div class="modal-header" id="modtit">
            <h5 class='modal-title'>Search results for "${term}"</h5>
            <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button>
          </div>
          <div class="modal-body">
            <ul class="mb-0"> </ul>
          </div>
        </div>
      </div>
    </div>`;

    lunrSearchResults.querySelector("#btnx").addEventListener("click", closeSearch);

    //put results on the screen.
    const results = idx.search(term);
    if (results.length > 0) {
      results.forEach(({ ref }) => {
        const { url, title, excerpt } = documents[ref];
        const li = document.createElement("li");
        li.classList.add("lunrsearchresult");
        li.innerHTML = `
          <a href='${url}'>
            <span class='title'>${title}</span>
            <br />
            <small>
              <span class='body'>${excerpt}</span>
              <br />
              <span class='url'>${url}</span>
            </small>
          </a>
        `;
        lunrSearchResults.querySelector("ul").appendChild(li);
      });
    } else {
      const li = document.createElement("li");
      li.classList.add("lunrsearchresult");
      li.innerText = "Sorry, no results found. Close & try a different search!";
      lunrSearchResults.querySelector("ul").appendChild(li);
    }
    return false;
  }
</script>
<style>
  #lunrsearchresults {
    position: relative;
    z-index: 1100;
  }

  #lunrsearchresults .modal {
    left: calc(100vw - 100%);
  }

  #lunrsearchresults .modal-dialog {
    display: flex;
    max-height: calc(100vh - 3.5em);
  }

  #lunrsearchresults .modal-body {
    max-height: 100%;
    overflow-y: auto;
  }

  .lunrsearchresult .title {
    color: #d9230f;
  }

  .lunrsearchresult .url {
    color: silver;
  }

  .lunrsearchresult a {
    display: block;
    color: #777;
  }

  .lunrsearchresult a:hover,
  .lunrsearchresult a:focus {
    text-decoration: none;
  }

  .lunrsearchresult a:hover .title {
    text-decoration: underline;
  }
</style>

        </ul>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <main class="site-content" role="main">
    <div class="container">
  <div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
    <div class="h-100 tofront">
      <div
        class="row  justify-content-between ">
        <div
          class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
          <h1 class="display-4 mb-4 article-headline">ORBIS v2</h1>
          <div class="d-flex align-items-center">
            
            <small class="ml-3">
              Elijah Meeks<span class="text-muted d-block mt-1">August 17, 2013</span>
            </small>
          </div>
        </div>
        
        <div class="col-md-6 pr-0 align-self-center">
          <img class="rounded" src="../post-images/clustering.png" alt="ORBIS v2">
        </div>
        
      </div>
    </div>
  </div>
</div>

<div class="container-lg pt-4 pb-4">
  <div class="row justify-content-center">
    <!-- Share -->
    <div class="col-lg-2 pr-4 mb-4 col-md-12">
      <div class="sticky-top sticky-top-offset text-center">
        <div class="text-muted">
          
        </div>
        <div class="share d-inline-block">
          <!-- AddToAny BEGIN -->
          <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
            
          </div>
     
          <!-- AddToAny END -->
        </div>
      </div>
    </div>

    <div class="col-md-12 col-lg-8">
      <!-- Article -->
      <article class="article-post">
        <p><img src="../post-images/orbisnew.png" alt="A screenshot of ORBIS v2"></p>
<p>Over the coming months, I'll be spending some time integrating new features, data, and base layers to <a href="http://orbis.stanford.edu">ORBIS: The Stanford Geospatial Transportation Network of the Roman Empire</a>. While ORBIS was tremendously successful both in its <a href="http://orbis.stanford.edu/#media">public appeal</a> and its <a href="http://orbis.stanford.edu/#news">use in scholarship</a>, there has been a growing list of small and not-so-small features that could improve the model or the user experience of it. Some of these have already been implemented in a prototype version seen in the screenshot above. Rather than wait for the new version to be finished, though, ORBIS v2 will be developed publicly, with the code available on Github. This way, ORBIS will benefit from the user feedback and feature requests of the larger digital humanities and software development community. There are still a few systems administration and database steps that need to occur before this can happen, but when the code and new site are available, the link will be posted here and on <a href="https://twitter.com/ORBIS_Stanford">@ORBIS_Stanford</a> on Twitter.</p>
<p>But it would be a shame to wait to talk about some of these new features, given that they've already been implemented and allow for fundamental changes in the way you can use ORBIS. A few are purely technical. The ORBIS v2 map is entirely built in <a href="http://d3js.org">D3.js</a>, using the stable but still-in-development <a href="https://gist.github.com/mbostock/4132797">geo.tile</a> functionality to serve a <a href="http://www.mapbox.com">MapBox</a> terrain map with a much higher resolution than the locally hosted Natural Earth tiles used in the current version of ORBIS. The additional geospatial capabilities of D3 allow this version of ORBIS to have an SVG layer of 1600 route segments that can be colored by speed, expense, or type (colored by type, above, so that you can see where ORBIS simulates overseas, coastal, river, and road connections) as well as clickable sites allow the user to turn on or off labels or perform other site functionality.</p>
<p><img src="../post-images/orbisnew2.png" alt="Alternate routes in ORBIS v2 based on removing sites"></p>
<p>One such piece of site functionality is the ability to remove sites from the ORBIS network and see how the removal of that site changes the route from one place to another. Here you can see the route from Carthage to London, and how it changes with the removal first of Lutetia, then Lugdunum, then Genua and finally Luna. Along with the vehicle and mode constraints of the original ORBIS route-finding, the ability to remove sites can simulate more accurately particular scenarios.</p>
<p><img src="../post-images/orbisnew3.png" alt="Route variance in ORBIS v2 based on transfer costs"></p>
<p>Further variation to routes can occur as a result of the new transfer cost functionality. ORBIS v2 allows the user to set a transfer cost in days to switch from one mode of transport to another, so that any switch from road to coastal, coastal to overseas, overseas to river, or any variation thereof, will cost an additional amount of time. Here the route from Alexandria to Rome takes a direct route through the Straits of Messina with no transfer cost, continues up the western coast of the Italian peninsula with a 2 day transfer cost (thereby making it inefficient to take the &quot;overseas&quot; route from Messina to Portus) and foregoes any overseas travel at all with a grossly inflated 10 day transfer cost. The current development version of ORBIS v2 has a single generic transfer cost, but the final version will have a specific cost for each transfer to a certain type of travel, so that a user could set a 3 day cost to switch to overseas, a 5 day cost to switch to river, and a 1 day cost to switch to coastal.</p>
<p><img src="../post-images/orbisnew4.png" alt="Cartogram from Sarmizegethusa in ORBIS v2"></p>
<p>All these new modifications to the routing function factor into the v2 cartogram, which is now integrated into the route-finding map (making it scrollable and zoomable) and capable of being run from any center with any settings. Here Sarmizegethusa is the center of the cartogram, with 5 day transfer costs and coastal routes disabled in February.</p>
<p><a href="/sites/g/files/sbiybj8071/f/orbisnew5.png"><img src="../post-images/orbisnew5.png" alt="ORBIS v2 showing sites colored by time to travel from Sarmizegethusa"></a></p>
<p>As with the original cartogram, the sites can be seen on the map colored by the cartogram settings. One exciting new feature that becomes available with the capacity to run these dynamic distance cartograms from any site in the ORBIS model is the use of clustering to show which sites are closest to each of these user-defined centers. This clustering can show not only regions within the Roman world around key sites, but also regions around a single site as defined by different transport modes or media.</p>
<p><a href="/sites/g/files/sbiybj8071/f/clustering.png"><img src="../post-images/clustering.png" alt="Clusters around cartogram centers in ORBIS v2"></a></p>
<p>The cartogram centers, shown in cyan, are surrounded by the sites closest to them, splitting the Roman world into distinct and, critically, user-defined areas. There are other features slated for v2 of ORBIS, as well as the integration of more detailed routes and route information, but hopefully those will be visible in the public development site and not in simple static screenshots like these.</p>

      </article>

      <!-- Tags --><!-- Author Box --><!-- Comments --></div>
  </div>
</div>


  </main>

  <script src="/assets/js/theme.js" "></script>

    <!-- Footer -->
    <footer class=" bg-white border-top p-3 text-muted small">
      <div class="container">
        <div class="row align-items-center justify-content-between">
          <div>
            <span class="navbar-brand mr-2 mb-0">
              <strong>Digital Humanities @ Stanford</strong>
            </span>
          </div>
          <div>
            <span>Copyright © 2022.</span>

            <a class="text-dark ml-1" href="https://github.com/dh-stanford/dh-stanford.github.io/" target="_blank">
              <i class="fab fa-github"></i>
              Site Source
            </a>
          </div>
        </div>
      </div>
    </footer>

  </body>

</html>
