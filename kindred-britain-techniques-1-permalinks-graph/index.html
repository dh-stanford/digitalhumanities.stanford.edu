<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Kindred Britain Techniques 1: Permalinks on a Graph :: Digital Humanities @ Stanford</title>

  

  <link rel="shortcut icon" type="image/x-icon" href="/">

  <!-- Font Awesome Icons -->
  <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
    integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" rel="stylesheet">

  <!-- Google Fonts-->
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700" rel="stylesheet">

  <!-- Bootstrap Modified -->
  <link rel="stylesheet" href="/assets/css/main.css" ">

  <!-- Theme Stylesheet -->
  <link rel=" stylesheet" href="/assets/css/theme.css" ">

  <style>
    /* add margin if scroll bar not visible
      Note: leaving space for a scroll bar can result in obviously uneven margins
      on smaller screens when there is no scroll bar.  This is potentially an issue
      on environments without overlay scrollbars and very narrow viewports, but 
      such environments are very uncommon and in my contrived examples behaviour
      is entirely acceptable imo. */
    body {
      margin-left: calc(100vw - 100%);
      margin-right: 0;
      overflow-x: hidden;
    }
    .navbar { left: calc(100vw - 100%); }
  </style>


  <meta property="og:title" content="Kindred Britain Techniques 1: Permalinks on a Graph" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/kindred-britain-techniques-1-permalinks-graph/" />
<meta property="og:site_name" content="Digital Humanities at Stanford" />
<meta property="og:description" content="" />
<meta property="og:image" content="" />
<meta property="og:image:alt" content="Post image" />
<meta name="description" content="" />


</head>

<body class=" ">

  <!-- Navbar -->
  <nav class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top" id="MagicMenu">
    <div class="container">
      <a class="navbar-brand" href="/">
        <strong>Digital Humanities @ Stanford</strong>
      </a>
      <button aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation"
        class="navbar-toggler collapsed" data-target="#navbarColor02" data-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-collapse collapse" id="navbarColor02" style="">
        <ul class="navbar-nav mr-auto d-flex align-items-center">
          <li class="nav-item">
  <a class="nav-link" href="/">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/about-dh-stanford">About</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/projects">Projects</a>
</li>
<li class="nav-item">
  <a target="_blank" class="nav-link" href="http://library.stanford.edu/research/cidr/workshops">Workshops</a>
</li>
<li class="nav-item">
  <a target="_blank" class="nav-link" href="https://dhminor.stanford.edu/">DH Minor</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/slavic">Slavic</a>
</li>

        </ul>
        <ul class="navbar-nav ml-auto d-flex align-items-center">
          <script src="/assets/js/lunr.min.js"></script>

<form class="bd-search hidden-sm-down" onSubmit="return lunrSearch(document.getElementById('lunrsearch').value);">
  <input type="text" class="form-control text-small" id="lunrsearch" name="q" value=""
    placeholder="Type keyword and enter..." />
</form>

<div id="lunrsearchresults"></div>

<script>
  const lunrSearchResults = document.getElementById("lunrsearchresults");
  let idx;
  let docs;

  fetch("/lunr-index.json")
    .then((response) => response.json())
    .then((data) => {
      idx = lunr.Index.load(data.index);
      documents = data.documents;
    });

  const closeSearch = () => {
    lunrSearchResults.style.display = "none";
    document.body.classList.remove("modal-open");
  };

  document.body.addEventListener("click", (event) => {
    if (event.target.id !== "lunrsearchresults" && document.body.classList.contains("modal-open")) closeSearch();
  });

  document.body.addEventListener("keydown", (event) => {
    if (event.key == "Escape" && document.body.classList.contains("modal-open")) closeSearch();
  });

  const lunrSearch = (term) => {
    lunrSearchResults.style.display = "block";
    document.body.classList.add("modal-open");

    lunrSearchResults.innerHTML = `
    <div id="resultsmodal" class="modal fade show d-block" tabindex="-1" role="dialog" aria-labelledby="resultsmodal">
      <div class="modal-dialog shadow-lg" role="document">
        <div class="modal-content">
          <div class="modal-header" id="modtit">
            <h5 class='modal-title'>Search results for "${term}"</h5>
            <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button>
          </div>
          <div class="modal-body">
            <ul class="mb-0"> </ul>
          </div>
        </div>
      </div>
    </div>`;

    lunrSearchResults.querySelector("#btnx").addEventListener("click", closeSearch);

    //put results on the screen.
    const results = idx.search(term);
    if (results.length > 0) {
      results.forEach(({ ref }) => {
        const { url, title, excerpt } = documents[ref];
        const li = document.createElement("li");
        li.classList.add("lunrsearchresult");
        li.innerHTML = `
          <a href='${url}'>
            <span class='title'>${title}</span>
            <br />
            <small>
              <span class='body'>${excerpt}</span>
              <br />
              <span class='url'>${url}</span>
            </small>
          </a>
        `;
        lunrSearchResults.querySelector("ul").appendChild(li);
      });
    } else {
      const li = document.createElement("li");
      li.classList.add("lunrsearchresult");
      li.innerText = "Sorry, no results found. Close & try a different search!";
      lunrSearchResults.querySelector("ul").appendChild(li);
    }
    return false;
  }
</script>
<style>
  #lunrsearchresults {
    position: relative;
    z-index: 1100;
  }

  #lunrsearchresults .modal {
    left: calc(100vw - 100%);
  }

  #lunrsearchresults .modal-dialog {
    display: flex;
    max-height: calc(100vh - 3.5em);
  }

  #lunrsearchresults .modal-body {
    max-height: 100%;
    overflow-y: auto;
  }

  .lunrsearchresult .title {
    color: #d9230f;
  }

  .lunrsearchresult .url {
    color: silver;
  }

  .lunrsearchresult a {
    display: block;
    color: #777;
  }

  .lunrsearchresult a:hover,
  .lunrsearchresult a:focus {
    text-decoration: none;
  }

  .lunrsearchresult a:hover .title {
    text-decoration: underline;
  }
</style>

        </ul>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <main class="site-content" role="main">
    <div class="container">
  <div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
    <div class="h-100 tofront">
      <div
        class="row  justify-content-between ">
        <div
          class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
          <h1 class="display-4 mb-4 article-headline">Kindred Britain Techniques 1: Permalinks on a Graph</h1>
          <div class="d-flex align-items-center">
            
            <small class="ml-3">
              Elijah Meeks<span class="text-muted d-block mt-1">August 28, 2013</span>
            </small>
          </div>
        </div>
        
        <div class="col-md-6 pr-0 align-self-center">
          <img class="rounded" src="../post-images/lee_taylor_kb.png" alt="Kindred Britain Techniques 1: Permalinks on a Graph">
        </div>
        
      </div>
    </div>
  </div>
</div>

<div class="container-lg pt-4 pb-4">
  <div class="row justify-content-center">
    <!-- Share -->
    <div class="col-lg-2 pr-4 mb-4 col-md-12">
      <div class="sticky-top sticky-top-offset text-center">
        <div class="text-muted">
          
        </div>
        <div class="share d-inline-block">
          <!-- AddToAny BEGIN -->
          <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
            
          </div>
     
          <!-- AddToAny END -->
        </div>
      </div>
    </div>

    <div class="col-md-12 col-lg-8">
      <!-- Article -->
      <article class="article-post">
        <p>Kindred Britain has a handful of patterns and functions that are rather novel in their creation or deployment. In this series, I'll be exploring the methodology and motivation for them, as well as go into some technical detail as to how they work. The first feature I'd like to focus on is the use of rich permalinks for sharing Kindred Britain. These direct links to particular states of Kindred Britain mean that when you share a link like this:</p>
<p><a href="http://kindred.stanford.edu/#/path/full/none/none/I17722/I17760/">http://kindred.stanford.edu/#/path/full/none/none/I17722/I17760/</a></p>
<p>..it doesn't just open up Kindred Britain, but rather it opens up a very particular view of Kindred Britain, in this case the genealogical path from General Robert E. Lee to President Zachary Taylor.</p>
<p><img src="../post-images/lee_taylor_kb.png" alt="Genealogical path from Robert E Lee to Zachary Taylor"></p>
<p>When we built ORBIS, we were surprised at how popular it was with social media, and chagrined to find out that many people who shared it thought they were sharing the map 'tab' but instead sent users to the base website. Oftentimes, the instructions were added in the forum comment or Facebook post, e.g.Â &quot;Click this link and then go to the 'mapping ORBIS' tab.&quot; We wanted to avoid this situation with Kindred Britain, but we also wanted to make it more robust, and allow people to link to specific views in the same way you can link to specific routes in Google Maps. As a result, you can open up a specific <a href="http://kindred.stanford.edu/#/kin/full/none/none/I19233//">family</a>, <a href="http://kindred.stanford.edu/#/path/full/none/none/I1797/I27868/">path</a>, or <a href="http://kindred.stanford.edu/#/story/half/half/none///tragedy">story</a> with permalinks in Kindred Britain.</p>
<p>You should also notice that the layout of the page is stored in the permalink. Knowledge transmission isn't just about data or even queries of the data, it's also about the particular visual formulation that led to the inspiration to share or cite something. The first three terms in the rather cumbersome URL for each Kindred Britain view are simply the layout of each pane--whether it should be fully open, half open, a third of the screen, or closed entirely. While we experimented with storing more state information than that, it proved too cumbersome to implement for the final site.</p>
<p>From a technical perspective, this is all done rather easily in JavaScript. Each time a query is successfully run or a story is successfully loaded or a pane layout is changed, the code updates the window.location.hash in the DOM to match the current settings. The only tricky step is that you need to rebuild your Twitter button each time and then call twttr.widgets.load() to reinitialize it. Rather than go through the same steps with the Facebook and Google+ buttons, and also to contrast the different ways of sharing things, we kept them keyed to the basic Kindred Britain URL.</p>
<p>That's why you'll seeÂ <img src="../post-images/tweet0.PNG" alt="">Â for so many pages. Because that view of the network, the one you're looking at in a very particular configuration, has never been shared on Twitter. While the social sharing is important, what's more important is the idea of citing and deep-linking not just to objects in a database, but configurations of a database or views into a model. These URLs refer not to a particular row in a database or linked data ID but rather a specific query run on the data, or an even more complex state when a story is referred to. This citation form is necessary for the development of scholarship that utilizes interactive scholarly works not only for research but for publication.</p>

      </article>

      <!-- Tags --><!-- Author Box --><!-- Comments --></div>
  </div>
</div>


  </main>

  <script src="/assets/js/theme.js" "></script>

    <!-- Footer -->
    <footer class=" bg-white border-top p-3 text-muted small">
      <div class="container">
        <div class="row align-items-center justify-content-between">
          <div>
            <span class="navbar-brand mr-2 mb-0">
              <strong>Digital Humanities @ Stanford</strong>
            </span>
          </div>
          <div>
            <span>Copyright Â© 2022.</span>

            <a class="text-dark ml-1" href="https://github.com/dh-stanford/dh-stanford.github.io/" target="_blank">
              <i class="fab fa-github"></i>
              Site Source
            </a>
          </div>
        </div>
      </div>
    </footer>

  </body>

</html>
